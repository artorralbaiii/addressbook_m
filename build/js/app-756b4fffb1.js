!function(){"use strict";angular.module("app",["app.core","app.users"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngRoute"])}(),function(){"use strict";angular.module("app.users",[])}(),function(){"use strict";function e(e,t){function a(){return e.get("/api/users").then(function(e,t,a,r){return e.data}).catch(function(e){t.error(e)})}function r(a){return e.post("/api/users",a).then(function(e,t,a,r){return e.data}).catch(function(e){t.error(e)})}function n(a){return e({method:"DELETE",url:"/api/users/"+a}).then(function(e,t,a,r){return e.data}).catch(function(e){t.error(e)})}function s(a){return e({method:"PUT",url:"/api/users/"+a._id,data:a}).then(function(e,t,a,r){return e.data}).catch(function(e){t.error(e)})}var i={createUser:r,getUsers:a,removeUser:n,updateUser:s};return i}angular.module("app.core").factory("dataservice",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e){function t(){return i()}function a(){u.editMode=!1,u.user={}}function r(){u.sending=!0;var t=_.clone(u.user);e.createUser(t).then(function(e){u.users.push(e),u.user={},u.sending=!1})}function n(t){bootbox.confirm('Are you sure you want to delete "'+t.firstName+" "+t.lastName+'"?',function(a){a&&e.removeUser(t._id).then(function(e){u.users.splice(_.findIndex(u.users,{_id:e._id}),1)})})}function s(e){var t=_.clone(e);u.editMode=!0,u.user=t}function i(){e.getUsers().then(function(e){return u.users=e,u.users})}function o(){u.sending=!0;var t=_.clone(u.user);e.updateUser(t).then(function(e){u.users[_.findIndex(u.users,{_id:e._id})]=e,u.sending=!1,u.editMode=!1,u.user={}})}var u=this;u.cancelEdit=a,u.createUser=r,u.deleteRowData=n,u.editMode=!1,u.getRowData=s,u.sending=!1,u.updateUser=o,u.user={},u.users=[],t()}angular.module("app.users").controller("Users",e),e.$inject=["dataservice"]}(),function(){"use strict";function e(e,t){e.when("/",{templateUrl:"app/users/users.html",controller:"Users",controllerAs:"vm"})}angular.module("app.users").config(e),e.$inject=["$routeProvider","$locationProvider"]}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/users/users.html",'<div class=row><div class=col-md-4><h1>Contact Form</h1><form data-ng-submit="vm.editMode ? vm.updateUser() : vm.createUser()" name=contact-form><div class=form-group><label for=firstName>First Name:</label> <input name=firstName type=text data-ng-model=vm.user.firstName class="form-control input-sm"></div><div class=form-group><label for=middleName>Middle Name:</label> <input name=middleName type=text data-ng-model=vm.user.middleName class="form-control input-sm"></div><div class=form-group><label for=lastName>Last Name:</label> <input name=lastName type=text data-ng-model=vm.user.lastName class="form-control input-sm"></div><div class=form-group><label for=email>Email:</label> <input name=email type=email data-ng-model=vm.user.email class="form-control input-sm"></div><div class=form-group><label for=mobile>Mobile:</label> <input name=mobile type=text data-ng-model=vm.user.mobile class="form-control input-sm"></div><div class=form-group><button data-ng-disabled=vm.sending class="btn btn-primary" type=submit>{{vm.editMode ? \'Update\' : \'Submit\'}}</button> <button data-ng-disabled=vm.sending data-ng-if=vm.editMode data-ng-click=vm.cancelEdit() class="btn btn-warning">Cancel</button></div></form></div><div class=col-md-8><div class=row><div class=col-md-12><p class="pull-right search"><label for=search>Search:</label> <input data-ng-model=vm.search name=search class=input-sm type=text placeholder=search...></p></div></div><div class=row><div class=col-md-12><div class=table-responsive><table class="table table-striped tbl-user"><thead><th>Name</th><th>Email</th><th>Mobile</th><th colspan=2></th></thead><tbody><tr data-ng-repeat="u in vm.users | filter:vm.search"><td>{{u.firstName}} {{u.lastName}}</td><td>{{u.email}}</td><td>{{u.mobile}}</td><td><a data-ng-click=vm.getRowData(u) title="Edit User"><i class="fa fa-pencil-square-o" aria-hidden=true></i></a></td><td><a data-ng-click=vm.deleteRowData(u) title="Delete User"><i class="fa fa-trash" aria-hidden=true></i></a></td></tr></tbody></table></div></div></div></div></div>')}]);